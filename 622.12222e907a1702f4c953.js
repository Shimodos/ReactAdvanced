"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[622],{1622:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var r,a=n(5893),o=n(4611),i=n(9161),l=n(4809),u=n(4478),s=n(3942),c=n(7294),d=n(5461),f=n(9118),p=n(2636),v=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.data},h=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.readonly},b=n(4268),g=(0,b.hg)("profile/fetchByIdStatus",(function(e,t){return n=void 0,r=void 0,o=function(){var n,r,a,o;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(i){switch(i.label){case 0:n=t.extra,r=t.rejectWithValue,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.api.get("/profile/".concat(e))];case 2:if(!(a=i.sent()).data)throw new Error("No data");return[2,a.data];case 3:return o=i.sent(),console.log("Error: ",o),[2,r("error")];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{u(o.next(e))}catch(e){t(e)}}function l(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,l)}u((o=o.apply(n,r||[])).next())}));var n,r,a,o}));!function(e){e.INCORRECT_USER_DATA="Incorrect user data",e.INCORRECT_AGE="Age is required",e.INCORRECT_COUNTRY="Country is required",e.NO_DATA="No data",e.SERVER_ERROR="Server error"}(r||(r={}));var y=function(e){var t;return(null===(t=e.profile)||void 0===t?void 0:t.form)||{}},x=(0,b.hg)("profile/updateProfileData",(function(e,t){return n=void 0,a=void 0,i=function(){var e,n,a,o,i,l,u;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(s){switch(s.label){case 0:if(e=t.extra,n=t.rejectWithValue,a=t.getState,o=y(a()),(i=function(e){if(!e)return[r.NO_DATA];var t=e.first,n=e.lastname,a=e.age,o=e.country,i=[];return t||i.push(r.INCORRECT_USER_DATA),n||i.push(r.INCORRECT_USER_DATA),a&&Number.isInteger(a)||i.push(r.INCORRECT_AGE),o||i.push(r.INCORRECT_COUNTRY),i}(o)).length)return[2,n(i)];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.api.put("/profile/".concat(o.id),o)];case 2:if(!(l=s.sent()).data)throw new Error("No data");return[2,l.data];case 3:return u=s.sent(),console.log("Error: ",u),[2,n([r.SERVER_ERROR])];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{u(i.next(e))}catch(e){t(e)}}function l(e){try{u(i.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,l)}u((i=i.apply(n,a||[])).next())}));var n,a,o,i})),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},m.apply(this,arguments)},R=(0,b.oM)({name:"profile",initialState:{readonly:!0,isLoading:!1,error:void 0,data:void 0},reducers:{setReadonly:function(e,t){e.readonly=t.payload},cancelEdit:function(e){e.readonly=!0,e.validateError=void 0,e.form=e.data},updataProfile:function(e,t){e.form=m(m({},e.form),t.payload)}},extraReducers:function(e){e.addCase(g.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(g.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload})).addCase(g.rejected,(function(e,t){e.error=t.payload,e.isLoading=!1})).addCase(x.pending,(function(e){e.validateError=void 0,e.isLoading=!0})).addCase(x.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload,e.readonly=!0,e.validateError=void 0})).addCase(x.rejected,(function(e,t){e.isLoading=!1,e.validateError=t.payload}))}}),O=R.actions,C=R.reducer,S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},S.apply(this,arguments)},E=function(e){var t=e.className,n=(0,u.$)("profile").t,r=(0,s.v9)(f.m5),b=(0,s.v9)(v),g=(null==r?void 0:r.id)===(null==b?void 0:b.id),y=(0,s.v9)(h),m=(0,d.T)(),R=(0,c.useCallback)((function(){m(O.setReadonly(!1))}),[m]),C=(0,c.useCallback)((function(){m(O.cancelEdit())}),[m]),E=(0,c.useCallback)((function(){m(x())}),[m]);return(0,a.jsxs)(p.U,S({max:!0,justify:"between",className:(0,o.A)("",{},[t])},{children:[(0,a.jsx)(l.xv,{title:n("ProfilePage")}),g&&(0,a.jsx)(p.U,S({gap:"16"},{children:y?(0,a.jsx)(i.zx,S({theme:i.UH.OUTLINE,onClick:R},{children:n("Edit")})):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.zx,S({theme:i.UH.OUTLINE_RED,onClick:C},{children:n("Cancel")})),(0,a.jsx)(i.zx,S({theme:i.UH.OUTLINE,onClick:E},{children:n("Save")}))]})}))]}))},N=n(8798),T=n(4882);var j=n(2276),w=function(e){var t;return(null===(t=e.profile)||void 0===t?void 0:t.isLoading)||!1},I=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.error},A=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.validateError};const L={ProfileCard:"wW9jgKKD",loafing:"MvyBembj",error:"i5YK3SSb",editing:"DjTe7269"};var P,U=n(6925),k=n(4002),D=n(71);!function(e){e.USD="USD",e.EUR="EUR",e.UAH="UAH"}(P||(P={}));var z,M=n(7898),F=(0,c.memo)((function(e){var t=e.className,n=e.value,r=e.onChange,i=e.readonly,l=(0,u.$)().t,s=[{value:P.EUR,content:"EUR"},{value:P.USD,content:"USD"},{value:P.UAH,content:"UAH"}],d=(0,c.useCallback)((function(e){null==r||r(e)}),[r]);return(0,a.jsx)(M.Z,{className:(0,o.A)("",{},[t]),defaultValue:l("Currency"),value:n,onChange:d,items:s,readonly:i,label:l("Currency"),direction:"up right"})}));F.displayName="CurrencySelect",function(e){e.Ukraine="Ukraine",e.USA="USA",e.Germany="Germany",e.France="France",e.Spain="Spain"}(z||(z={}));var _=(0,c.memo)((function(e){var t=e.className,n=e.value,r=e.onChange,i=e.readonly,l=(0,u.$)().t,s=[{value:z.France,content:"FR"},{value:z.Germany,content:"DE"},{value:z.Spain,content:"ES"},{value:z.USA,content:"US"},{value:z.Ukraine,content:"UA"}],d=(0,c.useCallback)((function(e){null==r||r(e)}),[r]);return(0,a.jsx)(M.Z,{className:(0,o.A)("",{},[t]),defaultValue:l("Country"),value:n,onChange:d,items:s,readonly:i,label:l("Country"),direction:"up right"})}));_.displayName="CurrencySelect";var V=n(1905),G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},G.apply(this,arguments)},H=function(e){var t,n,r,i=e.className,s=e.data,c=e.error,d=e.isLoading,f=e.onChangeFirstName,p=e.onChangeLastName,v=e.readonly,h=e.onChangeAge,b=e.onChangeCity,g=e.onChangeUsername,y=e.onChangeAvatar,x=e.onChangeCurrency,m=e.onChangeCountry,R=(0,u.$)("profile").t;if(d)return(0,a.jsx)(V.U,G({justify:"center",max:!0,className:(0,o.A)(L.ProfileCard,(t={},t[L.loafing]=!0,t),[i])},{children:(0,a.jsx)(k.a,{})}));if(c)return(0,a.jsx)(V.U,G({justify:"center",max:!0,className:(0,o.A)(L.ProfileCard,(n={},n[L.error]=!0,n),[i])},{children:(0,a.jsx)(l.xv,{theme:l.d9.ERROR,title:R("Error"),text:R("Reload"),align:l.vR.CENTER})}));var O=((r={})[L.editing]=!v,r);return(0,a.jsxs)(V.g,G({gap:"8",max:!0,className:(0,o.A)(L.ProfileCard,O,[i])},{children:[(null==s?void 0:s.avatar)&&(0,a.jsx)(V.U,G({justify:"center",max:!0,className:L.avatarWrapper},{children:(0,a.jsx)(D.q,{src:null==s?void 0:s.avatar,alt:null==s?void 0:s.username,className:L.avatar})})),(0,a.jsx)(U.I,{value:null==s?void 0:s.first,placeholder:R("First name"),className:L.input,onChange:f,readonly:v}),(0,a.jsx)(U.I,{value:null==s?void 0:s.lastname,placeholder:R("Last name"),className:L.input,onChange:p,readonly:v}),(0,a.jsx)(U.I,{value:null==s?void 0:s.age,placeholder:R("Age"),className:L.input,onChange:h,readonly:v}),(0,a.jsx)(U.I,{value:null==s?void 0:s.city,placeholder:R("City"),className:L.input,onChange:b,readonly:v}),(0,a.jsx)(U.I,{value:null==s?void 0:s.username,placeholder:R("Username"),className:L.input,onChange:g,readonly:v}),(0,a.jsx)(U.I,{value:null==s?void 0:s.avatar,placeholder:R("Avatar"),className:L.input,onChange:y,readonly:v}),(0,a.jsx)(F,{className:L.input,value:null==s?void 0:s.currency,onChange:x,readonly:v}),(0,a.jsx)(_,{className:L.input,value:null==s?void 0:s.country,onChange:m,readonly:v})]}))},$=n(8841),Q=function(){return Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Q.apply(this,arguments)},B={profile:C},Y=(0,c.memo)((function(e){var t,n=e.className,i=e.id,f=(0,u.$)().t,p=(0,d.T)(),v=(0,s.v9)(y),b=(0,s.v9)(w),x=(0,s.v9)(I),m=(0,s.v9)(h),R=(0,s.v9)(A),C=((t={})[r.INCORRECT_USER_DATA]=f("Incorrect user data"),t[r.INCORRECT_AGE]=f("Age is required"),t[r.INCORRECT_COUNTRY]=f("Country is required"),t[r.NO_DATA]=f("No data"),t[r.SERVER_ERROR]=f("Server error"),t);(0,j.Q)((function(){i&&p(g(i))}));var S=(0,c.useCallback)((function(e){p(O.updataProfile({first:e||""}))}),[p]),E=(0,c.useCallback)((function(e){p(O.updataProfile({lastname:e||""}))}),[p]),N=(0,c.useCallback)((function(e){!isNaN(Number(e))&&/^\d*$/.test(e||"")&&p(O.updataProfile({age:Number(e||0)}))}),[p]),T=(0,c.useCallback)((function(e){p(O.updataProfile({city:e||""}))}),[p]),L=(0,c.useCallback)((function(e){p(O.updataProfile({username:e||""}))}),[p]),P=(0,c.useCallback)((function(e){p(O.updataProfile({avatar:e||""}))}),[p]),U=(0,c.useCallback)((function(e){p(O.updataProfile({currency:e}))}),[p]),k=(0,c.useCallback)((function(e){p(O.updataProfile({country:e}))}),[p]);return(0,a.jsx)($.t,Q({reducers:B,remmoveAfterUnmount:!1},{children:(0,a.jsxs)("div",Q({className:(0,o.A)("ATDZVNy_",{},[n])},{children:[(null==R?void 0:R.length)&&(null==R?void 0:R.map((function(e,t){return(0,a.jsx)(l.xv,{theme:l.d9.ERROR,text:C[e]},t)}))),(0,a.jsx)(H,{data:v,className:n,isLoading:b,error:x,onChangeFirstName:S,onChangeLastName:E,onChangeAge:N,onChangeCity:T,onChangeUsername:L,onChangeAvatar:P,onChangeCurrency:U,onChangeCountry:k,readonly:m})]}))}))}));Y.displayName="EditableProfileCard";var q=n(6974),W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},W.apply(this,arguments)};const Z=function(e){var t=e.className,n=(0,u.$)().t,r=(0,q.UO)().id;return r?(0,a.jsx)(N.T,W({className:(0,o.A)("",{},[t])},{children:(0,a.jsxs)(T.g,W({gap:"8",max:!0},{children:[(0,a.jsx)(E,{}),(0,a.jsx)(Y,{className:t,id:r})]}))})):(0,a.jsx)(l.xv,{text:n("UserNotFound")})}},8841:(e,t,n)=>{n.d(t,{t:()=>i});var r=n(5893),a=n(7294),o=n(3942),i=function(e){var t=e.children,n=e.reducers,i=e.remmoveAfterUnmount,l=void 0===i||i,u=(0,o.I0)(),s=(0,o.oR)();return(0,a.useEffect)((function(){var e=s.reducerManager.getMountedReducers();return Object.entries(n).forEach((function(t){var n=t[0],r=t[1];e[n]||(s.reducerManager.add(n,r),u({type:"@INIT ".concat(n," reducer")}))})),function(){l&&Object.entries(n).forEach((function(e){var t=e[0];e[1],s.reducerManager.remove(t),u({type:"@DESTROU ".concat(t," reducer")})}))}}),[]),(0,r.jsx)(r.Fragment,{children:t})}},6925:(e,t,n)=>{n.d(t,{I:()=>l});var r=n(5893),a=n(4611);var o=n(7294),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},l=(0,o.memo)((function(e){var t,n=e.className,l=e.value,u=e.onChange,s=e.type,c=void 0===s?"text":s,d=e.placeholder,f=e.autofocus,p=e.readonly,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","value","onChange","type","placeholder","autofocus","readonly"]),h=(0,o.useRef)(null),b=(0,o.useState)(!1),g=b[0],y=b[1],x=(0,o.useState)(0),m=x[0],R=x[1];(0,o.useEffect)((function(){var e;f&&(y(!0),null===(e=h.current)||void 0===e||e.focus())}),[f]);var O=((t={}).fTN1PnWu=p,t);return(0,r.jsxs)("div",i({className:(0,a.A)("LuFDUWoP",O,[n])},{children:[d&&(0,r.jsx)("div",i({className:"emAQQ85i"},{children:d})),(0,r.jsxs)("div",i({className:"y1GiFC_L"},{children:[(0,r.jsx)("input",i({ref:h,type:c,value:l,onChange:function(e){null==u||u(e.target.value),R(e.target.value.length)},className:"LVdIPwcx",onFocus:function(){y(!0)},onBlur:function(){y(!1)},onSelect:function(e){var t=e.target;R(t.selectionStart||0)},readOnly:p},v)),g&&(0,r.jsx)("div",{className:"lqMFGBuL",style:{left:"".concat(m,"ch")}})]}))]}))}));l.displayName="Input"},7898:(e,t,n)=>{n.d(t,{Z:()=>re});var r=n(5893),a=n(7294),o=n(6723),i=n(3855);function l(e,t){let[n,r]=(0,a.useState)(e),l=(0,i.E)(e);return(0,o.e)((()=>r(l.current)),[l,r,...t]),n}var u,s=n(3781),c=n(4192),d=n(5910),f=n(3318),p=n(4157),v=n(3784),h=n(5257),b=n(476),g=n(5394),y=((u=y||{})[u.None=1]="None",u[u.Focusable=2]="Focusable",u[u.Hidden=4]="Hidden",u);let x=(0,g.yV)((function(e,t){var n;let{features:r=1,...a}=e,o={ref:t,"aria-hidden":2==(2&r)||(null!=(n=a["aria-hidden"])?n:void 0),hidden:4==(4&r)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&r)&&2!=(2&r)&&{display:"none"}}};return(0,g.sY)({ourProps:o,theirProps:a,slot:{},defaultTag:"div",name:"Hidden"})}));var m=n(6567),R=n(4103),O=n(1497),C=n(2720),S=n(4575);function E(e={},t=null,n=[]){for(let[r,a]of Object.entries(e))T(n,N(t,r),a);return n}function N(e,t){return e?e+"["+t+"]":t}function T(e,t,n){if(Array.isArray(n))for(let[r,a]of n.entries())T(e,N(t,r.toString()),a);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):E(n,t,e)}var j,w,I=n(2984),A=n(5466),L=n(1363),P=((w=P||{})[w.Open=0]="Open",w[w.Closed=1]="Closed",w),U=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(U||{}),k=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(k||{}),D=((j=D||{})[j.OpenListbox=0]="OpenListbox",j[j.CloseListbox=1]="CloseListbox",j[j.GoToOption=2]="GoToOption",j[j.Search=3]="Search",j[j.ClearSearch=4]="ClearSearch",j[j.RegisterOption=5]="RegisterOption",j[j.UnregisterOption=6]="UnregisterOption",j[j.RegisterLabel=7]="RegisterLabel",j);function z(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=(0,S.z2)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),a=n?r.indexOf(n):null;return-1===a&&(a=null),{options:r,activeOptionIndex:a}}let M={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex((e=>n(e.dataRef.current.value)));return-1!==r&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||1===e.listboxState)return e;let r=z(e),a=(0,O.d)(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:a,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),o=a?e.options.indexOf(a):-1;return-1===o||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=z(e,(e=>[...e,n]));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=z(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},F=(0,a.createContext)(null);function _(e){let t=(0,a.useContext)(F);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,_),t}return t}F.displayName="ListboxActionsContext";let V=(0,a.createContext)(null);function G(e){let t=(0,a.useContext)(V);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,G),t}return t}function H(e,t){return(0,I.E)(t.type,M,e,t)}V.displayName="ListboxDataContext";let $=a.Fragment,Q=g.AN.RenderStrategy|g.AN.Static,B=(0,g.yV)((function(e,t){let{value:n,defaultValue:r,form:i,name:l,onChange:u,by:d=((e,t)=>e===t),disabled:p=!1,horizontal:h=!1,multiple:b=!1,...R}=e;const C=h?"horizontal":"vertical";let N=(0,v.T)(t),[T=(b?[]:void 0),j]=function(e,t,n){let[r,o]=(0,a.useState)(n),i=void 0!==e,l=(0,a.useRef)(i),u=(0,a.useRef)(!1),c=(0,a.useRef)(!1);return!i||l.current||u.current?!i&&l.current&&!c.current&&(c.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(u.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[i?e:r,(0,s.z)((e=>(i||o(e),null==t?void 0:t(e))))]}(n,u,r),[w,A]=(0,a.useReducer)(H,{dataRef:(0,a.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),L=(0,a.useRef)({static:!1,hold:!1}),P=(0,a.useRef)(null),U=(0,a.useRef)(null),k=(0,a.useRef)(null),D=(0,s.z)("string"==typeof d?(e,t)=>{let n=d;return(null==e?void 0:e[n])===(null==t?void 0:t[n])}:d),z=(0,a.useCallback)((e=>(0,I.E)(M.mode,{1:()=>T.some((t=>D(t,e))),0:()=>D(T,e)})),[T]),M=(0,a.useMemo)((()=>({...w,value:T,disabled:p,mode:b?1:0,orientation:C,compare:D,isSelected:z,optionsPropsRef:L,labelRef:P,buttonRef:U,optionsRef:k})),[T,p,b,w]);(0,o.e)((()=>{w.dataRef.current=M}),[M]),(0,f.O)([M.buttonRef,M.optionsRef],((e,t)=>{var n;A({type:1}),(0,S.sP)(t,S.tJ.Loose)||(e.preventDefault(),null==(n=M.buttonRef.current)||n.focus())}),0===M.listboxState);let _=(0,a.useMemo)((()=>({open:0===M.listboxState,disabled:p,value:T})),[M,p,T]),G=(0,s.z)((e=>{let t=M.options.find((t=>t.id===e));t&&K(t.dataRef.current.value)})),Q=(0,s.z)((()=>{if(null!==M.activeOptionIndex){let{dataRef:e,id:t}=M.options[M.activeOptionIndex];K(e.current.value),A({type:2,focus:O.T.Specific,id:t})}})),B=(0,s.z)((()=>A({type:0}))),Y=(0,s.z)((()=>A({type:1}))),q=(0,s.z)(((e,t,n)=>e===O.T.Specific?A({type:2,focus:O.T.Specific,id:t,trigger:n}):A({type:2,focus:e,trigger:n}))),W=(0,s.z)(((e,t)=>(A({type:5,id:e,dataRef:t}),()=>A({type:6,id:e})))),Z=(0,s.z)((e=>(A({type:7,id:e}),()=>A({type:7,id:null})))),K=(0,s.z)((e=>(0,I.E)(M.mode,{0:()=>null==j?void 0:j(e),1(){let t=M.value.slice(),n=t.findIndex((t=>D(t,e)));return-1===n?t.push(e):t.splice(n,1),null==j?void 0:j(t)}}))),J=(0,s.z)((e=>A({type:3,value:e}))),X=(0,s.z)((()=>A({type:4}))),ee=(0,a.useMemo)((()=>({onChange:K,registerOption:W,registerLabel:Z,goToOption:q,closeListbox:Y,openListbox:B,selectActiveOption:Q,selectOption:G,search:J,clearSearch:X})),[]),te={ref:N},ne=(0,a.useRef)(null),re=(0,c.G)();return(0,a.useEffect)((()=>{ne.current&&void 0!==r&&re.addEventListener(ne.current,"reset",(()=>{null==j||j(r)}))}),[ne,j]),a.createElement(F.Provider,{value:ee},a.createElement(V.Provider,{value:M},a.createElement(m.up,{value:(0,I.E)(M.listboxState,{0:m.ZM.Open,1:m.ZM.Closed})},null!=l&&null!=T&&E({[l]:T}).map((([e,t],n)=>a.createElement(x,{features:y.Hidden,ref:0===n?e=>{var t;ne.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,g.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,disabled:p,name:e,value:t})}))),(0,g.sY)({ourProps:te,theirProps:R,slot:_,defaultTag:$,name:"Listbox"}))))})),Y=(0,g.yV)((function(e,t){var n;let r=(0,d.M)(),{id:o=`headlessui-listbox-button-${r}`,...i}=e,u=G("Listbox.Button"),f=_("Listbox.Button"),h=(0,v.T)(u.buttonRef,t),b=(0,c.G)(),y=(0,s.z)((e=>{switch(e.key){case L.R.Space:case L.R.Enter:case L.R.ArrowDown:e.preventDefault(),f.openListbox(),b.nextFrame((()=>{u.value||f.goToOption(O.T.First)}));break;case L.R.ArrowUp:e.preventDefault(),f.openListbox(),b.nextFrame((()=>{u.value||f.goToOption(O.T.Last)}))}})),x=(0,s.z)((e=>{e.key===L.R.Space&&e.preventDefault()})),m=(0,s.z)((e=>{if((0,R.P)(e.currentTarget))return e.preventDefault();0===u.listboxState?(f.closeListbox(),b.nextFrame((()=>{var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),f.openListbox())})),C=l((()=>{if(u.labelId)return[u.labelId,o].join(" ")}),[u.labelId,o]),S=(0,a.useMemo)((()=>({open:0===u.listboxState,disabled:u.disabled,value:u.value})),[u]),E={ref:h,id:o,type:(0,p.f)(e,u.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(n=u.optionsRef.current)?void 0:n.id,"aria-expanded":0===u.listboxState,"aria-labelledby":C,disabled:u.disabled,onKeyDown:y,onKeyUp:x,onClick:m};return(0,g.sY)({ourProps:E,theirProps:i,slot:S,defaultTag:"button",name:"Listbox.Button"})})),q=(0,g.yV)((function(e,t){let n=(0,d.M)(),{id:r=`headlessui-listbox-label-${n}`,...i}=e,l=G("Listbox.Label"),u=_("Listbox.Label"),c=(0,v.T)(l.labelRef,t);(0,o.e)((()=>u.registerLabel(r)),[r]);let f=(0,s.z)((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),p=(0,a.useMemo)((()=>({open:0===l.listboxState,disabled:l.disabled})),[l]);return(0,g.sY)({ourProps:{ref:c,id:r,onClick:f},theirProps:i,slot:p,defaultTag:"label",name:"Listbox.Label"})})),W=(0,g.yV)((function(e,t){var n;let r=(0,d.M)(),{id:o=`headlessui-listbox-options-${r}`,...i}=e,u=G("Listbox.Options"),f=_("Listbox.Options"),p=(0,v.T)(u.optionsRef,t),h=(0,c.G)(),b=(0,c.G)(),y=(0,m.oJ)(),x=null!==y?(y&m.ZM.Open)===m.ZM.Open:0===u.listboxState;(0,a.useEffect)((()=>{var e;let t=u.optionsRef.current;t&&0===u.listboxState&&t!==(null==(e=(0,A.r)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[u.listboxState,u.optionsRef]);let R=(0,s.z)((e=>{switch(b.dispose(),e.key){case L.R.Space:if(""!==u.searchQuery)return e.preventDefault(),e.stopPropagation(),f.search(e.key);case L.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==u.activeOptionIndex){let{dataRef:e}=u.options[u.activeOptionIndex];f.onChange(e.current.value)}0===u.mode&&(f.closeListbox(),(0,C.k)().nextFrame((()=>{var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,I.E)(u.orientation,{vertical:L.R.ArrowDown,horizontal:L.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),f.goToOption(O.T.Next);case(0,I.E)(u.orientation,{vertical:L.R.ArrowUp,horizontal:L.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),f.goToOption(O.T.Previous);case L.R.Home:case L.R.PageUp:return e.preventDefault(),e.stopPropagation(),f.goToOption(O.T.First);case L.R.End:case L.R.PageDown:return e.preventDefault(),e.stopPropagation(),f.goToOption(O.T.Last);case L.R.Escape:return e.preventDefault(),e.stopPropagation(),f.closeListbox(),h.nextFrame((()=>{var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case L.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(f.search(e.key),b.setTimeout((()=>f.clearSearch()),350))}})),S=l((()=>{var e;return null==(e=u.buttonRef.current)?void 0:e.id}),[u.buttonRef.current]),E=(0,a.useMemo)((()=>({open:0===u.listboxState})),[u]),N={"aria-activedescendant":null===u.activeOptionIndex||null==(n=u.options[u.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===u.mode||void 0,"aria-labelledby":S,"aria-orientation":u.orientation,id:o,onKeyDown:R,role:"listbox",tabIndex:0,ref:p};return(0,g.sY)({ourProps:N,theirProps:i,slot:E,defaultTag:"ul",features:Q,visible:x,name:"Listbox.Options"})})),Z=(0,g.yV)((function(e,t){let n=(0,d.M)(),{id:r=`headlessui-listbox-option-${n}`,disabled:l=!1,value:u,...c}=e,f=G("Listbox.Option"),p=_("Listbox.Option"),y=null!==f.activeOptionIndex&&f.options[f.activeOptionIndex].id===r,x=f.isSelected(u),m=(0,a.useRef)(null),R=(0,h.x)(m),S=(0,i.E)({disabled:l,value:u,domRef:m,get textValue(){return R()}}),E=(0,v.T)(t,m);(0,o.e)((()=>{if(0!==f.listboxState||!y||0===f.activationTrigger)return;let e=(0,C.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=m.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[m,y,f.listboxState,f.activationTrigger,f.activeOptionIndex]),(0,o.e)((()=>p.registerOption(r,S)),[S,r]);let N=(0,s.z)((e=>{if(l)return e.preventDefault();p.onChange(u),0===f.mode&&(p.closeListbox(),(0,C.k)().nextFrame((()=>{var e;return null==(e=f.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),T=(0,s.z)((()=>{if(l)return p.goToOption(O.T.Nothing);p.goToOption(O.T.Specific,r)})),j=(0,b.g)(),w=(0,s.z)((e=>j.update(e))),I=(0,s.z)((e=>{j.wasMoved(e)&&(l||y||p.goToOption(O.T.Specific,r,0))})),A=(0,s.z)((e=>{j.wasMoved(e)&&(l||y&&p.goToOption(O.T.Nothing))})),L=(0,a.useMemo)((()=>({active:y,selected:x,disabled:l})),[y,x,l]);return(0,g.sY)({ourProps:{id:r,ref:E,role:"option",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-selected":x,disabled:void 0,onClick:N,onFocus:T,onPointerEnter:w,onMouseEnter:w,onPointerMove:I,onMouseMove:I,onPointerLeave:A,onMouseLeave:A},theirProps:c,slot:L,defaultTag:"li",name:"Listbox.Option"})})),K=Object.assign(B,{Button:Y,Label:q,Options:W,Option:Z});var J=n(4611),X=n(9161),ee=n(1905),te=function(){return te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},te.apply(this,arguments)},ne={"down left":"raiRXQzD","up left":"dTNqgtCy","down right":"NxRqJio5","up right":"t8oyBsWH"};const re=function(e){var t=e.items,n=e.className,o=e.value,i=e.defaultValue,l=e.onChange,u=e.readonly,s=e.label,c=e.direction,d=[ne[void 0===c?"up left":c]];return(0,r.jsxs)(ee.U,te({gap:"4"},{children:[s&&(0,r.jsx)("span",{children:s+">"}),(0,r.jsxs)(K,te({as:"div",className:(0,J.A)("LsvjvEi8",{},[n]),value:o,onChange:l,disabled:u},{children:[(0,r.jsx)(K.Button,te({className:"qrO2mTX9"},{children:(0,r.jsx)(X.zx,te({disabled:u},{children:null!=o?o:i}))})),(0,r.jsx)(K.Options,te({className:(0,J.A)("V57wMCSt",{},d)},{children:null==t?void 0:t.map((function(e){return(0,r.jsx)(K.Option,te({value:e.value,disabled:e.disabled,as:a.Fragment},{children:function(t){var n,a=t.active;return t.selected,(0,r.jsxs)("li",te({className:(0,J.A)("mBjSAlwm",(n={},n.lE7gaHdr=a,n.yYTJVDnW=e.disabled,n))},{children:["",e.content]}))}}),e.value)}))}))]}))]}))}},2636:(e,t,n)=>{n.d(t,{U:()=>i});var r=n(5893),a=n(5059),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=function(e){return(0,r.jsx)(a.k,o({},e,{direction:"row"}))}},1905:(e,t,n)=>{n.d(t,{g:()=>r.g,U:()=>a.U});var r=n(4882),a=n(2636)}}]);